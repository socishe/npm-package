(this.webpackJsonptravism=this.webpackJsonptravism||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a.n(r),i=a(14),u=a.n(i),l=(a(21),a(22),a(4)),s=a(2),o=(a(23),function(e){var t=e.touched,a=e.dirty;return t&&a?"error":t&&!a?"valid":""}),d=function(e){var t=!1;switch(e.type.toLowerCase()){case"text":t=function(e){var t=e.value,a=e.minChar,n=!1;return a&&0!==a&&t.trim().length>=a&&(n=!0),"undefined"===typeof a&&0!==t.trim().length&&(n=!0),n}(e);break;case"email":t=function(e){var t=new RegExp(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/,"i");return null!==e.match(t)}(e.value);break;case"checkbox":t=function(e){var t=e.data;if(e.element.checked)return!0;for(var a=!1,n=0;n<t.length;n+=1)if(t[n].checked){a=!0;break}return a}(e);break;default:t=!1}return t},h=function(e){var t=e.name,a=e.required,c=e.label,i=e.type,u=e.placeholder,l=e.onChange,h=e.defaultValue,b=Object(r.useState)(!1),j=Object(s.a)(b,2),m=j[0],v=j[1],p=Object(r.useState)(!0),f=Object(s.a)(p,2),O=f[0],x=f[1];return Object(n.jsxs)("div",{className:"travism-input-field ".concat(o({touched:m,dirty:O})),children:[Object(n.jsxs)("label",{htmlFor:t,children:[c," ",a&&Object(n.jsx)("span",{children:"*"})]}),Object(n.jsx)("input",{type:i||"text",name:t,id:t,onBlur:function(e){var n=e.currentTarget;m||v(!0);var r=!!a&&0===n.value.trim().length;x(r),l&&l({name:t,type:i,touched:!0,dirty:r,value:n.value})},onChange:function(e){var n=e.currentTarget,r=!a||d({type:i,value:n.value});x(!r),l&&l({name:t,type:i,touched:m,dirty:!r,value:n.value})},required:a,defaultValue:h,placeholder:u}),m&&O&&Object(n.jsxs)("div",{className:"travism-input-error",children:["Valid ",t," is required"]})]})},b=function(e){var t=e.label,a=e.required,c=e.name,i=e.options,u=e.onChange,l=Object(r.useState)([]),h=Object(s.a)(l,2),b=h[0],j=h[1],m=Object(r.useState)(!1),v=Object(s.a)(m,2),p=v[0],f=v[1],O=Object(r.useState)(!0),x=Object(s.a)(O,2),y=x[0],g=x[1];Object(r.useEffect)((function(){Array.isArray(i)&&j(i||[])}),[i]);var q=function(e){var t=e.currentTarget,n=!a||d({type:"text",value:t.value});p||f(!0),g(!n),u&&u({name:c,type:"radio",touched:!0,dirty:!n,value:t.value})};return Object(n.jsx)(n.Fragment,{children:0!==b.length&&Object(n.jsxs)("div",{className:"travism-input-field ".concat(o({touched:p,dirty:y})),children:[Object(n.jsxs)("fieldset",{className:"input-radio",children:[Object(n.jsxs)("legend",{children:[t," ",a&&Object(n.jsx)("span",{children:"*"})]}),Object(n.jsx)("div",{children:b.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsxs)("label",{className:"choice",children:[Object(n.jsx)("input",{type:"radio",required:a,name:c,value:e.value,onChange:q})," ".concat(e.value)]})},"".concat(t,"_radio_options"))}))})]}),p&&y&&Object(n.jsxs)("div",{className:"travism-input-error",children:["Valid ",c," is required"]})]})})},j=function(e){var t=e.label,a=e.required,c=e.type,i=e.options,u=e.name,d=e.onChange,h=Object(r.useState)([]),b=Object(s.a)(h,2),j=b[0],m=b[1],v=Object(r.useState)(!1),p=Object(s.a)(v,2),f=p[0],O=p[1],x=Object(r.useState)(!0),y=Object(s.a)(x,2),g=y[0],q=y[1];Object(r.useEffect)((function(){if(Array.isArray(i)){var e=i.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{checked:!1})}));m(e)}}),[i]);var C=function(e){var t=e.currentTarget;f||O(!0);var a=!1,n=[],r=j.map((function(e){var r=e.checked;return e.value.toLowerCase()===t.value.toLowerCase()?(r=t.checked,t.checked&&(a=!0,n.push(t.value))):r&&(a=!0,n.push(e.value)),Object(l.a)(Object(l.a)({},e),{},{checked:r})}));m(r),q(!a),d&&d({name:u,type:c,touched:!0,dirty:!a,value:n})};return Object(n.jsx)(n.Fragment,{children:0!==j.length&&Object(n.jsxs)("div",{className:"travism-input-field ".concat(o({touched:f,dirty:g})),children:[Object(n.jsxs)("fieldset",{className:"input-radio",children:[Object(n.jsxs)("legend",{children:[t," ",a&&Object(n.jsx)("span",{children:"*"})]}),Object(n.jsx)("div",{children:j.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsxs)("label",{className:"choice",children:[Object(n.jsx)("input",{type:"checkbox",defaultChecked:e.checked,name:e.value,value:e.value,onChange:C})," ".concat(e.value)]})},"".concat(t,"_checkbox_options"))}))})]}),f&&g&&Object(n.jsxs)("div",{className:"travism-input-error",children:["Valid ",u," is required"]})]})})},m=function(e){var t=e.defaultValue,a=e.name,c=e.required,i=e.label,u=e.type,l=e.placeholder,h=e.onChange,b=e.minCharacters,j=Object(r.useState)(!1),m=Object(s.a)(j,2),v=m[0],p=m[1],f=Object(r.useState)(!0),O=Object(s.a)(f,2),x=O[0],y=O[1],g=Object(r.useState)(0),q=Object(s.a)(g,2),C=q[0],S=q[1];return Object(n.jsxs)("div",{className:"travism-input-field ".concat(o({touched:v,dirty:x})),children:[Object(n.jsxs)("label",{htmlFor:a,children:[i," ",c&&Object(n.jsx)("span",{children:"*"})," "," (".concat(C," of ").concat(b," words)")]}),Object(n.jsx)("textarea",{onChange:function(e){var t=e.currentTarget,n=!c||d({type:"text",value:t.value,minChar:b}),r=t.value.trim().split(" "),i=0;i=1===r.length?""===r[0]?0:1:r.length,S(i),y(!n),h&&h({name:a,type:u,touched:v,dirty:!n,value:t.value})},onBlur:function(e){var t=e.currentTarget;v||p(!0);var n=!1;c&&(b&&0!==b.length&&t.value.trim().length<b&&(n=!0),0===t.value.trim().length&&(n=!0)),y(n),h&&h({name:a,type:u,touched:!0,dirty:n,value:t.value})},name:a,id:a,required:c,placeholder:l,defaultValue:t}),v&&x&&Object(n.jsxs)("div",{className:"travism-input-error",children:["Valid ",a," is required"]})]})},v=a(15),p=a.n(v),f=function(e){var t=e.roundBorder,a=e.fields,c=e.endpoint,i=e.onStatus,u=e.btnPosition,o=e.submitBtnTxt,d=Object(r.useState)({}),v=Object(s.a)(d,2),f=v[0],O=v[1],x=Object(r.useState)([]),y=Object(s.a)(x,2),g=y[0],q=y[1],C=Object(r.useState)(!1),S=Object(s.a)(C,2),k=S[0],N=S[1],w=Object(r.useState)(!1),F=Object(s.a)(w,2),T=F[0],V=F[1];Object(r.useEffect)((function(){var e=a.map((function(e){var t=!0,a=!1;return"undefined"!==typeof e.required&&(t=!0!==e.required,a=e.required),Object(l.a)(Object(l.a)({},e),{},{touched:t,dirty:a})}));q(e)}),[a]),Object(r.useEffect)((function(){var e="";t&&(e+=" curvey"),O(e)}),[t]);var E=function(e){var t=0,a=g.map((function(a){var n=a;return a.name===e.name?(e.touched&&!e.dirty&&(t+=1),Object(l.a)(Object(l.a)({},n),{},{dirty:e.dirty,touched:e.touched,data:e.value})):(n.touched&&!n.dirty&&(t+=1),n)})),n=!1;t===a.length&&(n=!0),N(n),i&&i(n),q(a)};return Object(n.jsx)("div",{className:"travism-form ".concat(f),children:Object(n.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),V(!0);var t=function(e){var t={};return e.forEach((function(e){e.dirty||"undefined"===typeof e.data||(t[e.name.replace(" ","_")]=e.data)})),t}(g);p.a.post(c,t).then((function(e){console.log(e),V(!1)})).catch((function(e){console.error(e),V(!1)}))},children:[0===a.length&&"Please add form input options",a.map((function(e,t){var a=e.type?e.type.toLowerCase():"";return Object(n.jsxs)(r.Fragment,{children:[!["radio","checkbox","textarea"].includes(a)&&Object(n.jsx)(h,{name:e.name||"",type:a||"text",onChange:E,label:e.label||"",required:e.required||!1,placeholder:e.placeholder||""}),"radio"===a&&Object(n.jsx)(b,{name:e.name,label:e.label,type:a,required:e.required||!1,options:e.options,onChange:E}),"checkbox"===a&&Object(n.jsx)(j,{name:e.name,label:e.label,type:a,required:e.required||!1,options:e.options,onChange:E}),"textarea"===a&&Object(n.jsx)(m,{name:e.name,label:e.label,type:a,required:e.required||!1,placeholder:e.placeholder||"",defaultValue:e.value,onChange:E,minCharacters:e.minCharacters||null})]},"".concat(t,"_input_options"))})),0!==a.length&&Object(n.jsx)("div",{className:"form-footer ".concat(u||"right"),children:Object(n.jsxs)("button",{className:"form-submit",type:"submit",disabled:!k||T,children:[!T&&Object(n.jsx)(n.Fragment,{children:o||"Submit Form"}),T&&"Submitting..."]})})]})})},O=function(){return Object(n.jsxs)("div",{className:"main-container",children:[Object(n.jsx)("div",{className:"header",children:"Form builder package"}),Object(n.jsx)("div",{className:"form-container",children:Object(n.jsx)(f,{endpoint:"http://localhost:3000/npm-package",onStatus:function(e){console.log("Form is ".concat(e?"Clean":"Dirty"))},fields:[{type:"text",name:"name",label:"First Name",required:!0,placeholder:"Enter your first name"},{type:"email",name:"email",label:"Email Address",required:!1,placeholder:"Enter your email address"},{type:"radio",name:"languages",label:"Which languages do you require?",required:!0,options:[{value:"PHP"},{value:"JavaScript"},{value:"Java"}]},{type:"checkbox",label:"Select what you want?",required:!0,name:"font types",options:[{value:"Roboto"},{value:"Castoro"},{value:"Open Sans"}]},{type:"textarea",name:"special instructions",label:"Special Instructions",required:!0,placeholder:"Write your special instructions...",defaultValue:"This is a real test write now, but when things start to get fun, that's when you change things.",minCharacters:10}],roundBorder:!0,btnPosition:"center",submitBtnTxt:"Submit data"})})]})},x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,42)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};u.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root")),x()}},[[41,1,2]]]);
//# sourceMappingURL=main.49a9b8b6.chunk.js.map